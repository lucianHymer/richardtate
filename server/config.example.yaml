# Server configuration
server:
  # HTTP server bind address (use "localhost:8080" for local only, "0.0.0.0:8080" for LAN access)
  bind_address: "localhost:8080"

  # Log level: debug, info, warn, error, fatal
  log_level: "info"

  # Log format: text or json
  log_format: "text"

# WebRTC configuration
webrtc:
  # ICE servers for connection establishment
  # For localhost testing, this can be empty
  # For LAN/remote clients, configure STUN/TURN servers
  ice_servers: []
  # Example:
  # ice_servers:
  #   - urls: ["stun:stun.l.google.com:19302"]

# Transcription configuration
transcription:
  # Whisper model path (relative to server binary or absolute)
  # Download with: ./scripts/download-models.sh
  model_path: "./models/ggml-large-v3-turbo.bin"

  # Language code (e.g., "en", "es", "fr") or empty for auto-detect
  language: ""

  # Number of CPU threads for transcription (0 = auto-detect)
  # Higher values = faster transcription but more CPU usage
  threads: 0

  # Save audio chunks as WAV files to /tmp/chunk-*.wav for debugging
  enable_debug_wav: false

# Noise suppression (RNNoise)
# NOTE: RNNoise is controlled by the build tag, not a config flag
# - Build WITH RNNoise: go build -tags rnnoise ...
# - Build WITHOUT RNNoise: go build ... (uses pass-through, no denoising)
# See: ./scripts/build-mac.sh for automatic build with RNNoise detection
noise_suppression:
  # Path to RNNoise model file (only used when built with -tags rnnoise)
  # Download with: ./scripts/download-rnnoise.sh
  model_path: "./models/rnnoise/lq.rnnn"

# Voice Activity Detection (VAD)
# NOTE: VAD settings are now sent by the client with each recording session
# The server no longer uses these config values - they are kept here for documentation
# Each client can have different VAD settings based on their environment/microphone
#
# Clients send VAD settings in the control.start message:
# - energy_threshold: Energy threshold for speech detection
# - silence_threshold_ms: Duration of silence to trigger chunk
# - min_chunk_duration_ms: Minimum chunk duration
# - max_chunk_duration_ms: Maximum chunk duration
#
# To configure VAD, edit the client config.yaml instead
